# yearly on_action by Yard1

on_actions = {
	on_startup = {
		effect = {
			set_global_flag = Republic_Era
			set_variable = {
				var = global.BBY_Date
				value = -23
			}
		}
	}
	# this is executed on the 1st of every year FOR ONE RANDOM COUNTRY - use every_country inside
	on_daily = {
		effect = {
			if = {
				# don't touch!
				limit = { 
					NOT = { 
						check_variable = { global.last_year = global.year }
						has_global_flag = on_yearly_done
					}
				}
				# this is done only ONCE per year, even though on_daily fires for every country
				# will also be done on startup

				# your code here
				add_to_variable = {
					var = global.BBY_Date
					value = 1
				}
				
				# don't touch!
				set_variable = { global.last_year = global.year }
				set_global_flag = { flag = on_yearly_done value = 1 days = 1 }
			}
		}
	}
}
